---
id: models-api
title: Models API
sidebar_label: Models API
sidebar_position: 2
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# Models API

The `Models API` in the `CraftAPI` module allows developers to **fetch** and **submit** models from/to the HumaCraft backend.

## Overview

This API provides two core functions:

- `getModel`: Fetch a model from the backend.
- `submitModel`: Submit an `Encodable` model to the backend.

---

## `getModel(named:version:)`

Fetches a model of a specified type from the backend.

### Declaration

```swift
public static func getModel<T: Decodable>(named modelName: String, version: Int = 1) async throws -> T
```

### Parameters

| Name       | Type     | Description                                 |
|------------|----------|---------------------------------------------|
| `modelName`| `String` | The name of the model to fetch.             |
| `version`  | `Int`    | The version of the model (defaults to `1`). |

### Returns

A decoded instance of type `T`.

### Throws

An error if the request fails (e.g., network issues, decoding errors).

### Example

```swift
let userModel: UserModel = try await CraftAPI.getModel(named: "user")
```

---

## `submitModel(model:named:version:)`

Submits an encoded model to the backend.

### Declaration

```swift
public static func submitModel<T: Encodable>(model: T, named modelName: String, version: Int = 1) async throws
```

### Parameters

| Name        | Type       | Description                                           |
|-------------|------------|-------------------------------------------------------|
| `model`     | `T`        | The model instance to be submitted.                  |
| `modelName` | `String`   | The name under which to store the model.             |
| `version`   | `Int`      | The version to submit (defaults to `1`).             |

### Throws

An error if the request fails (e.g., serialization or server issues).

### Example

```swift
let newUser = UserModel(id: "123", name: "Alice")
try await CraftAPI.submitModel(model: newUser, named: "user")
```

---

## Endpoint Structure

Internally, the API constructs the following endpoints:

- **GET** `/dj/craft/models/{modelName}/v{version}/`
- **POST** `/dj/craft/models/{modelName}/v{version}/`

> ‚ÑπÔ∏è These endpoints are subject to change. Update the `Endpoint` implementation accordingly if the API path evolves.

---

## Notes

- Uses Swift Concurrency (`async/await`).
- Model types must conform to `Encodable` or `Decodable` accordingly.
- Designed for flexibility across versioned model schemas.

## üìö See Also

- [`Sample App Usage`](./craft-sample-app)